<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vendor Registration | Saudi Business, Operations & Industry Co.</title>
  <meta name="description" content="Vendor Registration Form for Saudi Business, Operations & Industry Co. and its group companies." />
  <meta name="robots" content="index,follow" />

  <style>
    :root{
      --bg:#ffffff;
      --surface:#ffffff;
      --surface-2:#f8fafc;
      --text:#0f172a;      /* slate-900 */
      --muted:#475569;     /* slate-600 */
      --line:#e2e8f0;      /* slate-200 */
      --line-2:#cbd5e1;    /* slate-300 */
      --accent:#0f3d8a;    /* deep blue */
      --accent-2:#0b2f6d;
      --danger:#b42318;
      --ok:#067647;
      --shadow: 0 10px 28px rgba(15, 23, 42, 0.08);
      --radius:14px;
      --radius-sm:10px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.45;
    }

    .container{
      max-width: 1100px;
      margin: 0 auto;
      padding: 28px 18px 60px;
    }

    /* Header */
    .header{
      display:flex;
      justify-content:space-between;
      gap:16px;
      align-items:flex-start;
      padding: 18px 18px;
      border: 1px solid var(--line);
      border-radius: var(--radius);
      background: var(--surface);
      box-shadow: var(--shadow);
    }
    .brand{
      display:flex;
      gap:14px;
      align-items:center;
      min-width: 280px;
    }
    .logo{
      width:46px;height:46px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color:#fff;
      display:grid;
      place-items:center;
      font-weight:800;
      letter-spacing: .5px;
      user-select:none;
    }
    .title h1{
      margin:0;
      font-size: 18px;
      letter-spacing: .2px;
    }
    .title p{
      margin: 6px 0 0;
      color: var(--muted);
      font-size: 13px;
      max-width: 640px;
    }
    .meta{
      display:grid;
      gap:10px;
      min-width: 260px;
      align-content:start;
    }
    .badge{
      border:1px solid var(--line);
      border-radius: 999px;
      padding: 8px 12px;
      background: var(--surface-2);
      font-size: 12px;
      color: var(--muted);
      display:flex;
      justify-content:space-between;
      gap:10px;
    }
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
    .divider{
      margin: 16px 0;
      height:1px;
      background: var(--line);
    }

    /* Layout */
    .layout{
      display:grid;
      grid-template-columns: 1fr 340px;
      gap: 16px;
      align-items:start;
    }
    @media (max-width: 980px){
      .layout{grid-template-columns: 1fr;}
      .meta{min-width:auto}
      .header{flex-direction:column}
    }

    .card{
      border: 1px solid var(--line);
      border-radius: var(--radius);
      background: var(--surface);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .cardhead{
      padding: 14px 16px;
      border-bottom: 1px solid var(--line);
      background: var(--surface-2);
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
    }
    .cardhead h2{
      margin:0;
      font-size: 14px;
      letter-spacing:.2px;
    }
    .cardhead .small{
      color: var(--muted);
      font-size: 12px;
    }
    .cardbody{
      padding: 16px;
    }

    .grid{display:grid; gap:12px}
    .two{grid-template-columns: 1fr 1fr}
    .three{grid-template-columns: 1fr 1fr 1fr}
    @media (max-width: 720px){
      .two,.three{grid-template-columns:1fr}
    }

    label{
      display:block;
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 6px;
    }
    .req{color: var(--accent); font-weight: 700}

    input, select, textarea{
      width: 100%;
      padding: 11px 12px;
      border: 1px solid var(--line-2);
      border-radius: var(--radius-sm);
      background: #fff;
      color: var(--text);
      outline: none;
      transition: border-color .15s ease, box-shadow .15s ease;
      font-size: 14px;
    }
    input:focus, select:focus, textarea:focus{
      border-color: rgba(15, 61, 138, .55);
      box-shadow: 0 0 0 4px rgba(15, 61, 138, .12);
    }
    textarea{min-height: 110px; resize: vertical}

    .hint{
      margin-top: 6px;
      color: var(--muted);
      font-size: 12px;
    }

    .checkboxes{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      padding: 12px;
      border:1px dashed var(--line-2);
      border-radius: var(--radius-sm);
      background: #fff;
    }
    @media (max-width:720px){ .checkboxes{grid-template-columns:1fr} }
    .chk{
      display:flex;
      gap:10px;
      align-items:flex-start;
      padding:10px;
      border:1px solid var(--line);
      border-radius: var(--radius-sm);
      background: var(--surface-2);
    }
    .chk input{width:auto; margin-top:3px}

    .note{
      border:1px solid var(--line);
      background: var(--surface-2);
      color: var(--muted);
      border-radius: var(--radius-sm);
      padding: 12px;
      font-size: 13px;
    }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-start;
    }
    .btn{
      appearance:none;
      border:1px solid var(--line-2);
      background:#fff;
      color: var(--text);
      padding: 11px 14px;
      border-radius: var(--radius-sm);
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      font-weight: 650;
      font-size: 14px;
    }
    .btn:hover{transform: translateY(-1px); background: var(--surface-2)}
    .btn.primary{
      border-color: rgba(15,61,138,.55);
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color:#fff;
    }
    .btn.primary:hover{background: linear-gradient(135deg, var(--accent-2), var(--accent))}
    .btn.ghost{
      background: #fff;
      color: var(--muted);
    }
    .btn.danger{
      border-color: rgba(180,35,24,.35);
      color: var(--danger);
      background:#fff;
    }

    .status{
      border:1px solid var(--line);
      background: var(--surface-2);
      border-radius: var(--radius-sm);
      padding: 10px 12px;
      font-size: 13px;
      color: var(--muted);
    }
    .status.ok{border-color: rgba(6,118,71,.25); color: var(--ok); background: rgba(6,118,71,.06)}
    .status.bad{border-color: rgba(180,35,24,.25); color: var(--danger); background: rgba(180,35,24,.06)}

    .footer{
      margin-top: 14px;
      color: #94a3b8;
      font-size: 12px;
      text-align:center;
    }

    .hidden{display:none !important;}
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <div class="brand">
        <div class="logo">S</div>
        <div class="title">
          <h1>Vendor Registration</h1>
          <p>
            Saudi Business, Operations & Industry Co. and its group companies (15+ entities).
            Sectors include Telecommunications, Renewable Energy, Wholesale, Contracting, and Industrial fields.
          </p>
        </div>
      </div>

      <div class="meta">
        <div class="badge">
          <span>Application ID</span>
          <span id="appId" class="mono">—</span>
        </div>
        <div class="badge">
          <span>Last draft save</span>
          <span id="lastSaved">—</span>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <div class="layout">
      <!-- Main form -->
      <section class="card">
        <div class="cardhead">
          <h2>Vendor Information</h2>
          <div class="small">Required fields are marked with <span class="req">*</span></div>
        </div>

        <div class="cardbody">
          <form id="vendorForm"
                action="https://formspree.io/f/xqezznjr"
                method="POST"
                enctype="multipart/form-data"
                novalidate>

            <!-- hidden metadata -->
            <input type="hidden" name="application_id" id="application_id" />
            <input type="hidden" name="page_source" value="GitHub Pages" />

            <!-- 1) Company Profile -->
            <div class="card" style="box-shadow:none; border-color: var(--line); margin-bottom:12px;">
              <div class="cardhead">
                <h2>1) Company Profile</h2>
                <div class="small">Basic details</div>
              </div>
              <div class="cardbody">
                <div class="grid two">
                  <div>
                    <label>Legal Company Name <span class="req">*</span></label>
                    <input name="company_legal_name" required placeholder="Company legal name" />
                  </div>
                  <div>
                    <label>Trade Name (Optional)</label>
                    <input name="trade_name" placeholder="Brand / trade name" />
                  </div>
                </div>

                <div class="grid three" style="margin-top:12px">
                  <div>
                    <label>Country <span class="req">*</span></label>
                    <input name="country" required placeholder="Saudi Arabia" />
                  </div>
                  <div>
                    <label>City <span class="req">*</span></label>
                    <input name="city" required placeholder="Riyadh" />
                  </div>
                  <div>
                    <label>Year Established</label>
                    <input name="year_established" type="number" min="1900" max="2100" placeholder="2015" />
                  </div>
                </div>

                <div style="margin-top:12px">
                  <label>Company Website / Factory Link <span class="req">*</span></label>
                  <input name="website_or_factory_link" required type="url" placeholder="https://..." />
                  <div class="hint">If no website is available, provide a Google Maps link or company profile link.</div>
                </div>

                <div style="margin-top:12px">
                  <label>Main Business Activity <span class="req">*</span></label>
                  <input name="main_activity" required placeholder="e.g., Telecom supplies, EPC contractor, industrial manufacturer..." />
                </div>

                <div style="margin-top:12px">
                  <label>Sectors you can supply to <span class="req">*</span></label>
                  <div class="checkboxes" id="sectorsGrid">
                    <label class="chk"><input type="checkbox" name="sectors[]" value="Telecommunications"> Telecommunications</label>
                    <label class="chk"><input type="checkbox" name="sectors[]" value="Renewable Energy"> Renewable Energy</label>
                    <label class="chk"><input type="checkbox" name="sectors[]" value="Wholesale / Distribution"> Wholesale / Distribution</label>
                    <label class="chk"><input type="checkbox" name="sectors[]" value="Contracting"> Contracting</label>
                    <label class="chk"><input type="checkbox" name="sectors[]" value="Industrial / Manufacturing"> Industrial / Manufacturing</label>
                    <label class="chk"><input type="checkbox" id="sectorOtherChk"> Other</label>
                  </div>

                  <div id="sectorOtherWrap" class="hidden" style="margin-top:10px">
                    <label>Other Sector <span class="req">*</span></label>
                    <input name="sector_other" placeholder="Please specify" />
                  </div>

                  <div class="hint">Select at least one sector.</div>
                </div>
              </div>
            </div>

            <!-- 2) Products / Services -->
            <div class="card" style="box-shadow:none; border-color: var(--line); margin-bottom:12px;">
              <div class="cardhead">
                <h2>2) Products / Services</h2>
                <div class="small">Capabilities</div>
              </div>
              <div class="cardbody">
                <div class="grid two">
                  <div>
                    <label>Vendor Type <span class="req">*</span></label>
                    <select name="vendor_type" required>
                      <option value="" selected disabled>Select</option>
                      <option>Manufacturer</option>
                      <option>Distributor</option>
                      <option>Service Provider</option>
                      <option>Contractor</option>
                      <option>Other</option>
                    </select>
                  </div>
                  <div>
                    <label>Category (Optional)</label>
                    <select name="category">
                      <option value="" selected>Optional</option>
                      <option>Telecom Equipment</option>
                      <option>Solar / PV</option>
                      <option>Electrical</option>
                      <option>Construction Materials</option>
                      <option>Industrial Supplies</option>
                      <option>Spare Parts</option>
                      <option>Other</option>
                    </select>
                  </div>
                </div>

                <div style="margin-top:12px">
                  <label>Short Description of Offering <span class="req">*</span></label>
                  <textarea name="offering_description" required placeholder="Describe your products/services clearly..."></textarea>
                </div>

                <div class="grid three" style="margin-top:12px">
                  <div>
                    <label>Typical Lead Time (Optional)</label>
                    <select name="typical_lead_time">
                      <option value="" selected>Optional</option>
                      <option>1–3 days</option>
                      <option>4–7 days</option>
                      <option>1–2 weeks</option>
                      <option>3–4 weeks</option>
                      <option>4+ weeks</option>
                    </select>
                  </div>
                  <div>
                    <label>Capacity (Optional)</label>
                    <input name="capacity" placeholder="e.g., 5,000 units/month" />
                  </div>
                  <div>
                    <label>MOQ (Optional)</label>
                    <input name="moq" placeholder="e.g., 100" />
                  </div>
                </div>
              </div>
            </div>

            <!-- 3) Compliance & Documents -->
            <div class="card" style="box-shadow:none; border-color: var(--line); margin-bottom:12px;">
              <div class="cardhead">
                <h2>3) Compliance & Documents</h2>
                <div class="small">Official documents</div>
              </div>
              <div class="cardbody">
                <div class="note">
                  For GitHub Pages deployments, file uploads may depend on your Formspree plan/settings.
                  The most reliable approach is to provide document links (Google Drive / OneDrive).
                </div>

                <div class="grid two" style="margin-top:12px">
                  <div>
                    <label>Commercial Registration / Company Profile Link <span class="req">*</span></label>
                    <input name="documents_link_cr_profile" required type="url" placeholder="https://drive.google.com/..." />
                    <div class="hint">Upload CR + company profile in one folder and share the link.</div>
                  </div>
                  <div>
                    <label>Certificates Link (Optional)</label>
                    <input name="documents_link_certificates" type="url" placeholder="https://..." />
                  </div>
                </div>

                <div class="grid two" style="margin-top:12px">
                  <div>
                    <label>Upload CR (Optional)</label>
                    <input name="upload_cr" type="file" accept=".pdf,.jpg,.jpeg,.png" />
                  </div>
                  <div>
                    <label>Upload Certificates (Optional)</label>
                    <input name="upload_certificates" type="file" multiple accept=".pdf,.jpg,.jpeg,.png" />
                  </div>
                </div>

                <div style="margin-top:12px">
                  <label class="chk" style="align-items:center">
                    <input type="checkbox" name="declaration" required />
                    I confirm that the provided information is accurate and I am authorized to submit this registration. <span class="req">*</span>
                  </label>
                </div>
              </div>
            </div>

            <!-- 4) Contacts -->
            <div class="card" style="box-shadow:none; border-color: var(--line); margin-bottom:12px;">
              <div class="cardhead">
                <h2>4) Contacts (Two)</h2>
                <div class="small">Primary & Secondary</div>
              </div>
              <div class="cardbody">
                <div class="grid two">
                  <div class="note" style="background:#fff; border-color: var(--line-2)">
                    <b style="display:block; margin-bottom:10px; color: var(--text);">Primary Contact</b>
                    <div class="grid">
                      <div>
                        <label>Name <span class="req">*</span></label>
                        <input name="contact1_name" required />
                      </div>
                      <div>
                        <label>Title (Optional)</label>
                        <input name="contact1_title" />
                      </div>
                      <div class="grid two">
                        <div>
                          <label>Mobile <span class="req">*</span></label>
                          <input name="contact1_mobile" required placeholder="+966..." />
                        </div>
                        <div>
                          <label>Email <span class="req">*</span></label>
                          <input name="contact1_email" required type="email" placeholder="name@company.com" />
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="note" style="background:#fff; border-color: var(--line-2)">
                    <b style="display:block; margin-bottom:10px; color: var(--text);">Secondary Contact</b>
                    <div class="grid">
                      <div>
                        <label>Name <span class="req">*</span></label>
                        <input name="contact2_name" required />
                      </div>
                      <div>
                        <label>Title (Optional)</label>
                        <input name="contact2_title" />
                      </div>
                      <div class="grid two">
                        <div>
                          <label>Mobile <span class="req">*</span></label>
                          <input name="contact2_mobile" required placeholder="+966..." />
                        </div>
                        <div>
                          <label>Email <span class="req">*</span></label>
                          <input name="contact2_email" required type="email" placeholder="name@company.com" />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div style="margin-top:12px">
                  <label>Additional Notes (Optional)</label>
                  <textarea name="notes" placeholder="Any additional information..."></textarea>
                </div>
              </div>
            </div>

            <!-- Submit -->
            <div class="grid" style="gap:10px">
              <div class="actions">
                <button type="submit" class="btn primary">Submit Registration</button>
                <button type="button" id="saveBtn" class="btn ghost">Save Draft</button>
                <button type="button" id="clearBtn" class="btn danger">Clear</button>
                <div id="formStatus" class="status">Ready</div>
              </div>
              <div class="hint">
                Submitting this form does not guarantee onboarding. Applications are reviewed based on compliance and capability.
              </div>
            </div>

          </form>
        </div>
      </section>

      <!-- Sidebar -->
      <aside class="card">
        <div class="cardhead">
          <h2>Guidance</h2>
          <div class="small">Before submitting</div>
        </div>
        <div class="cardbody">
          <div class="note">
            <b style="color:var(--text); display:block; margin-bottom:8px;">Recommended documents</b>
            • Commercial Registration (CR)<br/>
            • Company Profile (PDF)<br/>
            • VAT Certificate (if applicable)<br/>
            • Quality / product certificates (ISO, SASO, IEC, etc.)
          </div>

          <div class="note" style="margin-top:12px;">
            <b style="color:var(--text); display:block; margin-bottom:8px;">Best practice</b>
            Upload all documents to one folder (Drive/OneDrive) and paste the shared link in the form.
          </div>

          <div class="note" style="margin-top:12px;">
            <b style="color:var(--text); display:block; margin-bottom:8px;">Privacy</b>
            Information is used for vendor evaluation purposes only.
          </div>
        </div>
      </aside>
    </div>

    <div class="footer">© <span id="year"></span> Saudi Business, Operations & Industry Co. — Vendor Registration</div>
  </div>

  <script>
    const form = document.getElementById('vendorForm');
    const statusEl = document.getElementById('formStatus');
    const appIdEl = document.getElementById('appId');
    const applicationIdInput = document.getElementById('application_id');
    const yearEl = document.getElementById('year');
    const lastSavedEl = document.getElementById('lastSaved');

    const sectorOtherChk = document.getElementById('sectorOtherChk');
    const sectorOtherWrap = document.getElementById('sectorOtherWrap');

    const saveBtn = document.getElementById('saveBtn');
    const clearBtn = document.getElementById('clearBtn');

    const DRAFT_KEY = "sboi_vendor_registration_draft_v1";

    function nowStr(){
      return new Date().toLocaleString(undefined, { year:'numeric', month:'2-digit', day:'2-digit', hour:'2-digit', minute:'2-digit' });
    }

    function makeAppId(){
      // SBOI-YYYYMMDD-XXXX
      const d = new Date();
      const y = d.getFullYear();
      const m = String(d.getMonth()+1).padStart(2,'0');
      const day = String(d.getDate()).padStart(2,'0');
      const rnd = Math.random().toString(16).slice(2,6).toUpperCase();
      return `SBOI-${y}${m}${day}-${rnd}`;
    }

    function setStatus(type, msg){
      statusEl.classList.remove('ok','bad');
      if(type === 'ok') statusEl.classList.add('ok');
      if(type === 'bad') statusEl.classList.add('bad');
      statusEl.textContent = msg;
    }

    function serializeForm(frm){
      const data = {};
      const fd = new FormData(frm);
      for (const [k,v] of fd.entries()){
        if (v instanceof File) continue; // don't store files
        if (k.endsWith('[]')){
          data[k] = data[k] || [];
          data[k].push(v);
        } else {
          data[k] = v;
        }
      }
      // handle Other sector checkbox which has no name
      data.__otherSectorChecked = sectorOtherChk.checked;
      return data;
    }

    function fillForm(frm, data){
      for (const [k,v] of Object.entries(data)){
        if (k === "__otherSectorChecked") continue;

        if (Array.isArray(v)){
          const boxes = frm.querySelectorAll(`input[name="${k}"]`);
          boxes.forEach(b => b.checked = v.includes(b.value));
        } else {
          const el = frm.querySelector(`[name="${CSS.escape(k)}"]`);
          if(!el) continue;
          if(el.type === 'checkbox') el.checked = (v === 'on' || v === true);
          else el.value = v;
        }
      }
      // restore other sector state
      if (data.__otherSectorChecked){
        sectorOtherChk.checked = true;
        sectorOtherWrap.classList.remove('hidden');
      }
    }

    function hasAtLeastOneSector(){
      const selected = form.querySelectorAll('input[name="sectors[]"]:checked');
      return selected.length > 0 || sectorOtherChk.checked;
    }

    function validateField(el){
      if (!el) return true;

      // native required check
      if (el.hasAttribute('required')){
        const val = (el.value || '').trim();
        if (el.type === 'checkbox') return el.checked;
        if (!val) return false;
      }

      // url/email basic checks
      if (el.type === 'url' && el.value){
        try { new URL(el.value); } catch { return false; }
      }
      if (el.type === 'email' && el.value){
        const ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(el.value);
        if (!ok) return false;
      }
      return true;
    }

    function firstInvalidElement(){
      // check required inputs/selects/textareas
      const fields = form.querySelectorAll('input,select,textarea');
      for (const el of fields){
        if (!validateField(el)){
          return el;
        }
      }
      // sectors special rule
      if (!hasAtLeastOneSector()){
        return document.getElementById('sectorsGrid');
      }
      // if other sector checked require text
      if (sectorOtherChk.checked){
        const other = form.querySelector('[name="sector_other"]');
        if (!other.value || other.value.trim().length < 2) return other;
      }
      return null;
    }

    // Init
    yearEl.textContent = new Date().getFullYear();
    const appId = makeAppId();
    appIdEl.textContent = appId;
    applicationIdInput.value = appId;

    sectorOtherChk.addEventListener('change', () => {
      sectorOtherWrap.classList.toggle('hidden', !sectorOtherChk.checked);
    });

    // Load draft if exists
    try{
      const raw = localStorage.getItem(DRAFT_KEY);
      if(raw){
        const draft = JSON.parse(raw);
        fillForm(form, draft);
        setStatus('ok', 'Draft restored');
        lastSavedEl.textContent = 'Available';
      }
    } catch {}

    // Auto-save draft
    let saveTimer = null;
    form.addEventListener('input', () => {
      clearTimeout(saveTimer);
      saveTimer = setTimeout(() => {
        try{
          const draft = serializeForm(form);
          localStorage.setItem(DRAFT_KEY, JSON.stringify(draft));
          lastSavedEl.textContent = nowStr();
          setStatus('ok', 'Draft saved');
        } catch {}
      }, 600);
    });

    // Save draft button
    saveBtn.addEventListener('click', () => {
      try{
        const draft = serializeForm(form);
        localStorage.setItem(DRAFT_KEY, JSON.stringify(draft));
        lastSavedEl.textContent = nowStr();
        setStatus('ok', 'Draft saved');
      } catch {
        setStatus('bad', 'Draft save failed');
      }
    });

    // Clear
    clearBtn.addEventListener('click', () => {
      if(!confirm('Clear all entered data?')) return;
      form.reset();
      sectorOtherWrap.classList.add('hidden');
      sectorOtherChk.checked = false;
      localStorage.removeItem(DRAFT_KEY);
      lastSavedEl.textContent = '—';
      setStatus('ok', 'Cleared');
      // new application id
      const newId = makeAppId();
      appIdEl.textContent = newId;
      applicationIdInput.value = newId;
    });

    // Submit
    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const invalid = firstInvalidElement();
      if(invalid){
        setStatus('bad', 'Please complete required fields correctly');
        if (invalid.scrollIntoView) invalid.scrollIntoView({behavior:'smooth', block:'center'});
        if (invalid.focus) invalid.focus({preventScroll:true});
        return;
      }

      setStatus('', 'Submitting...');

      const fd = new FormData(form);

      try{
        const res = await fetch(form.action, {
          method: "POST",
          body: fd,
          headers: { "Accept": "application/json" }
        });

        if(res.ok){
          localStorage.removeItem(DRAFT_KEY);
          setStatus('ok', 'Submitted successfully');
          alert('Thank you. Your registration has been submitted successfully.');

          form.reset();
          sectorOtherWrap.classList.add('hidden');
          sectorOtherChk.checked = false;
          lastSavedEl.textContent = '—';

          // regenerate new application id
          const newId = makeAppId();
          appIdEl.textContent = newId;
          applicationIdInput.value = newId;

        } else {
          setStatus('bad', 'Submission failed. Please verify Formspree settings.');
        }
      } catch {
        setStatus('bad', 'Submission failed due to network/Formspree issue.');
      }
    });
  </script>
</body>
</html>
